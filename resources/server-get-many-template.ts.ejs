<% if (entity.api && entity.api.booleans.hasGetMany) { -%>
import * as <%= entity.api.strings.actionClass %> from '@/backend/entities/generated/<%= utils.toKababCase(entity.name) %>-action';
import { handleGetMany } from 'airent-api';
import { <%= entity.api.strings.getManyQuery %> } from '<%= entity.api.request.import %>';
<%- config.authenticatorImport %>

export const POST = handleGetMany({
  queryZod: <%= entity.api.strings.getManyQuery %>,
  apiExecutor: <%= entity.api.strings.actionClass %>.<%= entity.api.strings.getManyAction %>,
  authenticator,
  options: {
  <%_ if ((entity.api.internalMethods ?? []).includes('getMany')) { -%>
    requireInternal: true,
  <%_ } -%>
  <%_ if ((entity.api.adminMethods ?? []).includes('getMany')) { -%>
    requireAdmin: true,
  <%_ } -%>
  <%_ if ((entity.api.publicMethods ?? []).includes('getMany')) { -%>
    requireLogin: false,
  <%_ } -%>
  },
});
<% } -%>
